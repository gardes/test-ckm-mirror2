archetype (adl_version=2.0.6; rm_release=1.1.0; generated; uid=ab5519ba-22b7-4574-af37-c2a84bc2f24c; build_uid=2460c4e1-c191-41f8-8a05-b0847d39267c)
    openEHR-EHR-EVALUATION.substance_use_summary.v0.0.1-alpha

language
    original_language = <[ISO_639-1::en]>

description
    original_author = <
        ["name"] = <"Heather Leslie">
        ["organisation"] = <"Atomica Informatics">
        ["email"] = <"heather.leslie@atomicainformatics.com">
        ["date"] = <"2020-02-13">
    >
    original_namespace = <"org.openehr">
    original_publisher = <"openEHR Foundation">
    other_contributors = <"Vebjørn Arntzen, Oslo universitetssykehus HF, Norway (Nasjonal IKT redaktør)", "Silje Ljosland Bakke, Nasjonal IKT HF, Norway (openEHR Editor)", "Heather Leslie, Atomica Informatics, Australia (openEHR Editor)", "Ian McNicoll, freshEHR Clinical Informatics, United Kingdom (openEHR Editor)", "John Tore Valand, Haukeland Universitetssjukehus, Norway (openEHR Editor)", "Ingrid Skard, DIPS AS, Norway">
    lifecycle_state = <"in_development">
    custodian_namespace = <"org.openehr">
    custodian_organisation = <"openEHR Foundation">
    licence = <"This work is licensed under the Creative Commons Attribution-ShareAlike 4.0 International License. To view a copy of this license, visit http://creativecommons.org/licenses/by-sa/4.0/.">
    other_details = <
        ["current_contact"] = <"Heather Leslie, Atomica Informatics, heather.leslie@atomicainformatics.com">
        ["MD5-CAM-1.0.1"] = <"86CDFC31A6DA3187259522FB7C792BB4">
    >
    details = <
        ["en"] = <
            language = <[ISO_639-1::en]>
            purpose = <"To record summary information about the individual's pattern of use of an identified addictive, or potentially addictive, substance.">
            use = <"Use to record summary information about the individual's pattern of use of an identified addictive, or potentially addictive, substance.
    
    This archetype is to be used to record information about both current and previous substance use behaviour.
    
    The specific scope of this archetype includes all types of addictive substances, including, but not limited to: recreational drugs; solvents; and caffeine. The only exceptions are alcohol consumption, tobacco smoking and smokeless tobacco use because these substances have been modelled in other, specific archetypes.
    
    The 'Episode' cluster allows for recording of specific details, routes and forms during a specified period of time. If the pattern, route or form changes significantly, record the details in a new instance of the Episode' CLUSTER.
    Triggers for closing one episode and commencing a new one will largely reflect local data collection preferences, including if the individual:
    - quits for a significant period of time; or
    - significantly changes their amount, route or form of their substance use.
    
    If multiple forms of the substance are consumed, the details will be recorded in the 'Per form' CLUSTER within this archetype.
    
    If multiple routes are used, the details will be recorded in the 'Per route' CLUSTER within this archetype. 
    
    If other substances are used, the details will be recorded in another instance of this archetype.
    
    Use to incorporate the narrative descriptions of substance use habits within existing or legacy clinical systems into an archetyped format, using the 'Overall description' data element.">
            misuse = <"Not to be used to record information about tobacco use - use EVALUATION.tobacco_smoking_summary or EVALUATION.smokeless_tobacco_summary for this purpose.
    
    Not to be used to record information about alcohol use - use EVALUATION.alcohol_use_summary for this purpose.
    
    Not to be used to record event-or period-based information about substance use, such as actual daily use or the average use over a specified period of time - use the OBSERVATION.substance_use archetype.">
            copyright = <"© Nasjonal IKT HF, openEHR Foundation">
        >
    >

definition
    EVALUATION[id1] matches {    -- Substance use summary
        data matches {
            ITEM_TREE[id2] matches {
                items cardinality matches {0..*; unordered} matches {
                    ELEMENT[id3] occurrences matches {0..1} matches {    -- Substance name
                        value matches {
                            DV_TEXT[id9040] 
                        }
                    }
                    ELEMENT[id4] occurrences matches {0..1} matches {    -- Overall status
                        value matches {
                            DV_CODED_TEXT[id9035] matches {
                                defining_code matches {[ac9036]}    -- Overall status (synthesised)
                            }
                        }
                    }
                    ELEMENT[id8] occurrences matches {0..1} matches {    -- Overall description
                        value matches {
                            DV_TEXT[id9041] 
                        }
                    }
                    ELEMENT[id9] occurrences matches {0..1} matches {    -- First ever use
                        value matches {
                            DV_DATE_TIME[id9042] 
                        }
                    }
                    ELEMENT[id10] occurrences matches {0..1} matches {    -- Regular use commenced
                        value matches {
                            DV_DATE_TIME[id9043] 
                        }
                    }
                    ELEMENT[id11] occurrences matches {0..1} matches {    -- Daily use commenced
                        value matches {
                            DV_DATE_TIME[id9044] 
                        }
                    }
                    ELEMENT[id12] occurrences matches {0..1} matches {    -- Typical use
                        value matches {
                            DV_QUANTITY[id9045] matches {
                                property matches {[at9006]}    -- Flow rate, mass
                                [units] matches {
                                    [{"mg/d"}],
                                    [{"g/d"}],
                                    [{"mg/wk"}],
                                    [{"g/wk"}],
                                    [{"mg/mo"}],
                                    [{"g/mo"}]
                                }
                            }
                        }
                    }
                    CLUSTER[id13] matches {    -- Per episode
                        items cardinality matches {1..*; unordered} matches {
                            ELEMENT[id14] occurrences matches {0..1} matches {    -- Episode label
                                value matches {
                                    DV_COUNT[id9046] matches {
                                        magnitude matches {|>=0|}
                                    }
                                    DV_TEXT[id9047] 
                                }
                            }
                            ELEMENT[id15] occurrences matches {0..1} matches {    -- Episode start date
                                value matches {
                                    DV_DATE_TIME[id9048] 
                                }
                            }
                            ELEMENT[id16] occurrences matches {0..1} matches {    -- Episode end date
                                value matches {
                                    DV_DATE_TIME[id9049] 
                                }
                            }
                            ELEMENT[id17] occurrences matches {0..1} matches {    -- Specific substance
                                value matches {
                                    DV_COUNT[id9050] matches {
                                        magnitude matches {|>=0|}
                                    }
                                    DV_TEXT[id9051] 
                                }
                            }
                            ELEMENT[id18] occurrences matches {0..1} matches {    -- Status
                                value matches {
                                    DV_CODED_TEXT[id9052] 
                                }
                            }
                            ELEMENT[id19] occurrences matches {0..1} matches {    -- Episode Description
                                value matches {
                                    DV_CODED_TEXT[id9053] 
                                }
                            }
                            ELEMENT[id20] occurrences matches {0..1} matches {    -- Pattern
                                value matches {
                                    DV_TEXT[id9054] 
                                    DV_CODED_TEXT[id9055] matches {
                                        defining_code matches {[ac9037]}    -- Pattern (synthesised)
                                    }
                                }
                            }
                            ELEMENT[id23] occurrences matches {0..1} matches {    -- Substance free days
                                value matches {
                                    DV_QUANTITY[id9056] matches {
                                        [magnitude, units] matches {
                                            [{|0.0..7.0|}, {"1/wk"}],
                                            [{|0.0..31.0|}, {"1/mo"}]
                                        }
                                    }
                                }
                            }
                            ELEMENT[id24] occurrences matches {0..1} matches {    -- Typical use
                                value matches {
                                    DV_QUANTITY[id9057] matches {
                                        property matches {[at9006]}    -- Flow rate, mass
                                        [units] matches {
                                            [{"mg/d"}],
                                            [{"g/d"}],
                                            [{"mg/wk"}],
                                            [{"g/wk"}],
                                            [{"mg/mo"}],
                                            [{"g/mo"}]
                                        }
                                    }
                                }
                            }
                            CLUSTER[id34] matches {    -- Per form/route
                                items cardinality matches {1..*; unordered} matches {
                                    ELEMENT[id37] matches {    -- Form/route
                                        value matches {
                                            DV_TEXT[id9058] 
                                        }
                                        name matches {
                                            DV_CODED_TEXT[id9059] matches {
                                                defining_code matches {[ac9038]}    -- Form/route (synthesised)
                                            }
                                        }
                                    }
                                    ELEMENT[id38] occurrences matches {0..1} matches {    -- Description
                                        value matches {
                                            DV_TEXT[id9060] 
                                        }
                                    }
                                    ELEMENT[id41] occurrences matches {0..1} matches {    -- Typical use
                                        value matches {
                                            DV_QUANTITY[id9061] 
                                        }
                                    }
                                    ELEMENT[id42] occurrences matches {0..1} matches {    -- Comment
                                        value matches {
                                            DV_TEXT[id9062] 
                                        }
                                    }
                                }
                                name matches {
                                    DV_CODED_TEXT[id9063] matches {
                                        defining_code matches {[ac9039]}    -- Per form/route (synthesised)
                                    }
                                }
                            }
                            ELEMENT[id25] occurrences matches {0..1} matches {    -- Number of quit attempts
                                value matches {
                                    DV_COUNT[id9064] matches {
                                        magnitude matches {|>=0|}
                                    }
                                }
                            }
                            allow_archetype CLUSTER[id26] matches {     -- Episode details
                                include
                                    archetype_id/value matches {/.*/}
                            }
                            ELEMENT[id27] occurrences matches {0..1} matches {    -- Episode comment
                                value matches {
                                    DV_DATE_TIME[id9065] 
                                }
                            }
                        }
                    }
                    allow_archetype CLUSTER[id28] matches {     -- Overall details
                        include
                            archetype_id/value matches {/.*/}
                    }
                    ELEMENT[id29] occurrences matches {0..1} matches {    -- Overall quit date
                        value matches {
                            DV_DATE_TIME[id9036] 
                        }
                    }
                    ELEMENT[id31] occurrences matches {0..1} matches {    -- Overall comment
                        value matches {
                            DV_TEXT[id9066] 
                        }
                    }
                }
            }
        }
        protocol matches {
            ITEM_TREE[id30] matches {
                items cardinality matches {0..*; unordered} matches {
                    ELEMENT[id32] occurrences matches {0..1} matches {    -- Last updated
                        value matches {
                            DV_DATE_TIME[id9067] 
                        }
                    }
                    allow_archetype CLUSTER[id33] matches {     -- Extension
                        include
                            archetype_id/value matches {/.*/}
                    }
                }
            }
        }
    }

terminology
    term_definitions = <
        ["en"] = <
            ["at9006"] = <
                text = <"Flow rate, mass">
                description = <"Flow rate, mass">
            >
            ["ac9036"] = <
                text = <"Overall status (synthesised)">
                description = <"Statement about current use of the substance, in all forms and by all routes. (synthesised)">
            >
            ["ac9037"] = <
                text = <"Pattern (synthesised)">
                description = <"The typical pattern of substance use. (synthesised)">
            >
            ["ac9038"] = <
                text = <"Form/route (synthesised)">
                description = <"The name of the form or route. (synthesised)">
            >
            ["ac9039"] = <
                text = <"Per form/route (synthesised)">
                description = <"Details about the substance use per form of the substance or per route of administration, during the episode. (synthesised)">
            >
            ["id42"] = <
                text = <"Comment">
                description = <"Additional narrative about the substance use by the identified form or route that has not been captured in other fields.">
            >
            ["id41"] = <
                text = <"Typical use">
                description = <"Typical use by the identified form or route.">
            >
            ["at40"] = <
                text = <"Route">
                description = <"The route of administration of the substance.">
            >
            ["at39"] = <
                text = <"Form">
                description = <"The form of the substance administered.">
            >
            ["id38"] = <
                text = <"Description">
                description = <"Narrative description about the substance use by the identified form or route.">
            >
            ["id37"] = <
                text = <"Form/route">
                description = <"The name of the form or route.">
            >
            ["at36"] = <
                text = <"Per route">
                description = <"Details about each route of administration . For example: intravenous or inhalation.">
            >
            ["at35"] = <
                text = <"Per form">
                description = <"Details about each form of the substance. For example: buds or oil.">
            >
            ["id34"] = <
                text = <"Per form/route">
                description = <"Details about the substance use per form of the substance or per route of administration, during the episode.">
            >
            ["id33"] = <
                text = <"Extension">
                description = <"Additional information required to extend the model with local content or to align with other reference models/formalisms.">
                comment = <"For example: local information requirements; or additional metadata to align with FHIR.">
            >
            ["id32"] = <
                text = <"Last updated">
                description = <"The date this summary was last updated.">
            >
            ["id31"] = <
                text = <"Overall comment">
                description = <"Additional narrative about the overall use of the substance that has not been captured in other fields.">
            >
            ["id29"] = <
                text = <"Overall quit date">
                description = <"The date when the individual last ceased all use of the substance.">
            >
            ["id28"] = <
                text = <"Overall details">
                description = <"Additional structured details about the overall use of the specified substance.">
            >
            ["id27"] = <
                text = <"Episode comment">
                description = <"Additional narrative about use of the specific substance during this episode, not captured in other fields.">
            >
            ["id26"] = <
                text = <"Episode details">
                description = <"Additional details about the episode.">
            >
            ["id25"] = <
                text = <"Number of quit attempts">
                description = <"Total number of times the individual has attempted to stop using the specified substance within this episode.">
            >
            ["id24"] = <
                text = <"Typical use">
                description = <"Typical amount and frequency of use.">
            >
            ["id23"] = <
                text = <"Substance free days">
                description = <"The number of days where the substance was not used.">
            >
            ["at22"] = <
                text = <"Non-daily">
                description = <"Not using the substance every day.">
            >
            ["at21"] = <
                text = <"Daily">
                description = <"Use the substance at least once every day.">
            >
            ["id20"] = <
                text = <"Pattern">
                description = <"The typical pattern of substance use.">
                comment = <"The typical pattern of use can be made more granular by coding with a terminology or a local value set in a template.">
            >
            ["id19"] = <
                text = <"Episode Description">
                description = <"Narrative summary about substance use during the episode.">
            >
            ["id18"] = <
                text = <"Status">
                description = <"Date when this episode commenced.">
                comment = <"Can be a partial date, for example, only a year.">
            >
            ["id17"] = <
                text = <"Specific substance">
                description = <"The name of the specific substance used.">
                comment = <"This data element may be redundant if the specific substance has been identified in the 'Substance name' data element. However if The 'Substance name' data element is recorded as a grouping or a class, it may be necessary to provide more specificity for a specific episode.">
            >
            ["id16"] = <
                text = <"Episode end date">
                description = <"Date when this episode ceased.">
                comment = <"Can be a partial date, for example, only a year. This data field will be empty if the episode is current and ongoing.">
            >
            ["id15"] = <
                text = <"Episode start date">
                description = <"Date when this episode commenced.">
                comment = <"Can be a partial date, for example, only a year.">
            >
            ["id14"] = <
                text = <"Episode label">
                description = <"Identification of an episode of substance use - either as a number in a sequence or a named event.">
                comment = <"For example: '2' as the second episode within a sequence of episodes; or 'Pregnancy with twins' if describing the substance use during a health event such as a specific pregnancy.">
            >
            ["id13"] = <
                text = <"Per episode">
                description = <"Details about a discrete period of use of the substance.">
            >
            ["id12"] = <
                text = <"Typical use">
                description = <"The typical amount and frequency of use of the substance, if consistent over time.">
                comment = <"This data element effectively becomes redundant if usage patterns are recorded using the 'Per episode' cluster. If it is used concurrently with the 'Per episode' data elements, it is possible for the data recorded using this data element to become inconsistent or outdated as more detailed data is added to the 'Per episode' cluster.">
            >
            ["id11"] = <
                text = <"Daily use commenced">
                description = <"The date when the individual first started daily use of the substance.">
                comment = <"Can be a partial date, for example, only a year.">
            >
            ["id10"] = <
                text = <"Regular use commenced">
                description = <"The date when the individual first started frequent or regular, but usually non-daily, use of the substance.">
                comment = <"Can be a partial date, for example, only a year. For example, this date could represent when the individual commenced using the substance every Friday night or at parties.">
            >
            ["id9"] = <
                text = <"First ever use">
                description = <"Date when the individual first used the substance.">
                comment = <"Can be a partial date, for example, only a year.">
            >
            ["id8"] = <
                text = <"Overall description">
                description = <"Narrative summary about use behaviour for the substance.">
            >
            ["at7"] = <
                text = <"Former user">
                description = <"The individual has previously used the identified substance.">
            >
            ["at6"] = <
                text = <"Current user">
                description = <"The individual is currently using the identified substance.">
            >
            ["at5"] = <
                text = <"Never used">
                description = <"The individual has never used the identified substance.">
            >
            ["id4"] = <
                text = <"Overall status">
                description = <"Statement about current use of the substance, in all forms and by all routes.">
            >
            ["id3"] = <
                text = <"Substance name">
                description = <"The name of the substance or substance group/class used.">
                comment = <"Coding with an external terminology is preferred, where possible.">
            >
            ["id1"] = <
                text = <"Substance use summary">
                description = <"Summary or persistent information about the typical use of a single addictive, or potentially addictive, substance by an individual.">
            >
        >
    >
    term_bindings = <
        ["openehr"] = <
            ["at9006"] = <http://openehr.org/id/347>
        >
    >
    value_sets = <
        ["ac9039"] = <
            id = <"ac9039">
            members = <"at35", "at36">
        >
        ["ac9038"] = <
            id = <"ac9038">
            members = <"at39", "at40">
        >
        ["ac9037"] = <
            id = <"ac9037">
            members = <"at21", "at22">
        >
        ["ac9036"] = <
            id = <"ac9036">
            members = <"at5", "at6", "at7">
        >
    >
